template_training:
  _target_: twinturbo.src.data.data.SimpleDataModule
  train_frac: 0.8
  train_data:
    _target_: twinturbo.src.data.data.InMemoryDataFrameDict
    list_order: ["data", "mass"]
    file_path: ${path.hyperproject}/dummydata/gauss_corr_2_10K.h5
    plotting_path: ${general.run_dir}/plots/train/
    processor_cfg: 
    - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
      frame_name: "data"
      new_df_dict: {"data": ["x1", "x0"], "mass": ["x0"]}
    - _target_: twinturbo.src.data.data.ProcessorToFloat32
      frame_names: ["data", "mass"]
  loader_kwargs:
    pin_memory: true
    batch_size: 512
    num_workers: 8 
    drop_last: false

export_template:
  _target_: twinturbo.src.data.data.SimpleDataModule
  train_frac: 0.8
  loader_kwargs:
    pin_memory: true
    batch_size: 512
    num_workers: 8
    drop_last: false
  test_data:
    _target_: twinturbo.src.data.data.CombDataset
    plotting_path: ${general.run_dir}/plots/export/
    dataset1:
      _target_: twinturbo.src.data.data.InMemoryDataFrameDict
      list_order: ["data"]
      file_path: ${path.hyperproject}/dummydata/gauss_corr_2_10K.h5
      plotting_path: ${general.run_dir}/plots/train/
      processor_cfg: 
      - _target_: twinturbo.src.data.data.ProcessorToFloat32
        frame_names: ["data"]
    dataset2:
      _target_: twinturbo.src.data.data.InMemoryDataFrameDict
      list_order: ["mass"]
      file_path: ${path.hyperproject}/dummydata/gauss_corr_2_10K.h5
      plotting_path: ${general.run_dir}/plots/train/
      processor_cfg: 
      - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
        frame_name: "data"
        new_df_dict: {"mass": ["x0"]}
      - _target_: twinturbo.src.data.data.ProcessorApplyCuts
        scalar_df_name: "mass"
        cuts: ["x0 > 0"]
      - _target_: twinturbo.src.data.data.ProcessorShuffle
      - _target_: twinturbo.src.data.data.ProcessorToFloat32
        frame_names: ["mass"]

evaluation:
  original_data: 
    _target_: twinturbo.src.data.data.CombDataset
    plotting_path: ${general.run_dir}/plots/export/
    dataset1:
      _target_: twinturbo.src.data.data.InMemoryDataFrameDict
      list_order: ["data"]
      file_path: ${path.hyperproject}/dummydata/gauss_corr_2_10K.h5
      plotting_path: ${general.run_dir}/plots/train/
      processor_cfg: 
      - _target_: twinturbo.src.data.data.ProcessorToFloat32
        frame_names: ["data"]
    dataset2:
      _target_: twinturbo.src.data.data.InMemoryDataFrameDict
      list_order: ["mass"]
      file_path: ${path.hyperproject}/dummydata/gauss_corr_2_10K.h5
      plotting_path: ${general.run_dir}/plots/train/
      processor_cfg: 
      - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
        frame_name: "data"
        new_df_dict: {"mass": ["x0"]}
      - _target_: twinturbo.src.data.data.ProcessorApplyCuts
        scalar_df_name: "mass"
        cuts: ["x0 > 0"]
      - _target_: twinturbo.src.data.data.ProcessorShuffle
      - _target_: twinturbo.src.data.data.ProcessorToFloat32
        frame_names: ["mass"]

  target_data: 
    _target_: twinturbo.src.data.data.InMemoryDataFrameDict
    list_order: ["data"]
    file_path: ${path.hyperproject}/dummydata/gauss_corr_2_10K.h5
    plotting_path: ${general.run_dir}/plots/train/
    processor_cfg: 
    - _target_: twinturbo.src.data.data.ProcessorApplyCuts
      scalar_df_name: "data"
      cuts: ["x0 > 0"]
    - _target_: twinturbo.src.data.data.ProcessorToFloat32
      frame_names: ["data"]