step_train_template:
  model:
    reverse_pass_mode: additional_input
    _target_: twinturbo.src.models.twinturbo_model.TwinTURBO
    use_m: true
    encoder_mlp_config:
      hddn_dim:
      - 64
      - 64
      - 64
      - 64
      act_h: prelu
    decoder_mlp_config:
      hddn_dim:
      - 64
      - 64
      - 64
      - 64
      act_h: prelu
    latent_norm: true
    latent_dim: 8
    loss_cfg:
      reco:
        w: 1
      consistency_x:
        w: 0.01
      consistency_cont:
        w: 0.01
      second_derivative_smoothness:
        w: 0.001
        step: 0.1
    adversarial_cfg:
      discriminator:
        hddn_dim:
        - 64
        - 64
        - 64
        - 64
        act_h: prelu
      optimizer_main: default.yaml
      optimizer_d: default.yaml
      warmup: 20
      g_loss_weight: 0.2
      every_n_steps_g: 1
      train_dis_in_warmup: false
      g_loss_weight_in_warmup: true
    valid_plots: false
    optimizer:
      _target_: torch.optim.AdamW
      _partial_: true
      lr: 0.0001
      weight_decay: 1.0e-05
    scheduler:
      scheduler:
        _target_: torch.optim.lr_scheduler.CosineAnnealingLR
        _partial_: true
        T_max: 100000
        last_epoch: -1
        eta_min: 0
      lightning:
        monitor: valid/log_prob
        interval: step
        frequency: 1
  project_name: twinTURBO_gauss_corr
  network_name: twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b_2024-08-27_19-05-36-900316
  ckpt_path: null
  precision: high
  compile: null
  full_resume: false
  seed: 1
  automatic_optimization: false
  callbacks:
    model_checkpoint:
      _target_: pytorch_lightning.callbacks.ModelCheckpoint
      dirpath: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/template/checkpoints
      filename: min_val_loss_{epoch:03d}
      monitor: valid/total_loss
      mode: min
      save_last: true
      auto_insert_metric_name: false
    model_summary:
      _target_: pytorch_lightning.callbacks.RichModelSummary
      max_depth: 2
    lr_monitor:
      _target_: pytorch_lightning.callbacks.LearningRateMonitor
      logging_interval: step
  loggers:
    wandb:
      _target_: pytorch_lightning.loggers.wandb.WandbLogger
      offline: true
      id: null
      log_model: false
      project: twinTURBO_gauss_corr
      name: twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b_2024-08-27_19-05-36-900316
      save_dir: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1
      resume: false
  paths:
    output_dir: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/template
    root_dir: /home/users/o/oleksiyu/WORK/hyperproject
    full_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/template
    wandbkey: /home/users/o/oleksiyu/WORK/keys/wandb.key
  trainer:
    _target_: pytorch_lightning.Trainer
    min_epochs: 1
    max_epochs: 200
    enable_progress_bar: true
    accelerator: auto
    devices: 1
    precision: 32
    check_val_every_n_epoch: 1
    default_root_dir: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/template
  data:
    datamodule:
      _target_: twinturbo.src.data.data.SimpleDataModule
      train_frac: 0.8
      train_data:
        _target_: twinturbo.src.data.data.CombDataset
        dataset1:
          _target_: twinturbo.src.data.data.InMemoryDataFrameDict
          list_order:
          - data
          - mass
          file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
          plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/input/train_d1/
          processor_cfg:
          - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
            frame_name: df
            new_df_dict:
              data:
              - m_j1
              - del_m
              - del_R
              - tau21_j1
              - tau21_j2
              - m_jj
              is_signal:
              - is_signal
          - _target_: twinturbo.src.data.data.ProcessorApplyCuts
            scalar_df_name: is_signal
            cuts:
            - is_signal == 0
          - _target_: twinturbo.src.data.data.ProcessorIntervals
            scalar_df_name: data
            var_name: m_jj
            intervals:
            - - 3000
              - 3300
            - - 3700
              - 4600
          - _target_: twinturbo.src.data.data.ProcessorCATHODE
            frame_name: data
            save_pkl: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/cathode_preprocessor.pkl
          - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
            frame_name: data
            new_df_dict:
              data:
              - m_j1
              - del_m
              - del_R
              - tau21_j1
              - tau21_j2
              - m_jj
              mass:
              - m_jj
          - _target_: twinturbo.src.data.data.ProcessorToFloat32
            frame_names:
            - data
            - mass
        dataset2:
          _target_: twinturbo.src.data.data.InMemoryDataFrameDict
          list_order:
          - mass_add
          file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
          plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/input/train_d2/
          processor_cfg:
          - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
            frame_name: df
            new_df_dict:
              data:
              - m_j1
              - del_m
              - del_R
              - tau21_j1
              - tau21_j2
              - m_jj
              is_signal:
              - is_signal
          - _target_: twinturbo.src.data.data.ProcessorApplyCuts
            scalar_df_name: is_signal
            cuts:
            - is_signal == 0
          - _target_: twinturbo.src.data.data.ProcessorIntervals
            scalar_df_name: data
            var_name: m_jj
            intervals:
            - - 3000
              - 4600
          - _target_: twinturbo.src.data.data.ProcessorCATHODE
            frame_name: data
            load_pkl: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/cathode_preprocessor.pkl
          - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
            frame_name: data
            new_df_dict:
              mass_add:
              - m_jj
          - _target_: twinturbo.src.data.data.ProcessorToFloat32
            frame_names:
            - mass_add
      loader_kwargs:
        pin_memory: true
        batch_size: 2048
        num_workers: 8
        drop_last: false
do_train_template: true
do_export_template: true
do_export_latent: true
do_evaluation: true
do_cwola: true
do_evaluate_cwola: true
do_plot_compare: true
general:
  name: twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b
  subfolder: REFERENCE13_08onGPU033/
  seed: 12345
  run_dir: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1
path:
  hyperproject: /home/users/o/oleksiyu/WORK/hyperproject
  wandbkey: /home/users/o/oleksiyu/WORK/keys/wandb.key
data:
  template_training:
    _target_: twinturbo.src.data.data.SimpleDataModule
    train_frac: 0.8
    train_data:
      _target_: twinturbo.src.data.data.CombDataset
      dataset1:
        _target_: twinturbo.src.data.data.InMemoryDataFrameDict
        list_order:
        - data
        - mass
        file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
        plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/input/train_d1/
        processor_cfg:
        - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
          frame_name: df
          new_df_dict:
            data:
            - m_j1
            - del_m
            - del_R
            - tau21_j1
            - tau21_j2
            - m_jj
            is_signal:
            - is_signal
        - _target_: twinturbo.src.data.data.ProcessorApplyCuts
          scalar_df_name: is_signal
          cuts:
          - is_signal == 0
        - _target_: twinturbo.src.data.data.ProcessorIntervals
          scalar_df_name: data
          var_name: m_jj
          intervals:
          - - 3000
            - 3300
          - - 3700
            - 4600
        - _target_: twinturbo.src.data.data.ProcessorCATHODE
          frame_name: data
          save_pkl: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/cathode_preprocessor.pkl
        - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
          frame_name: data
          new_df_dict:
            data:
            - m_j1
            - del_m
            - del_R
            - tau21_j1
            - tau21_j2
            - m_jj
            mass:
            - m_jj
        - _target_: twinturbo.src.data.data.ProcessorToFloat32
          frame_names:
          - data
          - mass
      dataset2:
        _target_: twinturbo.src.data.data.InMemoryDataFrameDict
        list_order:
        - mass_add
        file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
        plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/input/train_d2/
        processor_cfg:
        - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
          frame_name: df
          new_df_dict:
            data:
            - m_j1
            - del_m
            - del_R
            - tau21_j1
            - tau21_j2
            - m_jj
            is_signal:
            - is_signal
        - _target_: twinturbo.src.data.data.ProcessorApplyCuts
          scalar_df_name: is_signal
          cuts:
          - is_signal == 0
        - _target_: twinturbo.src.data.data.ProcessorIntervals
          scalar_df_name: data
          var_name: m_jj
          intervals:
          - - 3000
            - 4600
        - _target_: twinturbo.src.data.data.ProcessorCATHODE
          frame_name: data
          load_pkl: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/cathode_preprocessor.pkl
        - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
          frame_name: data
          new_df_dict:
            mass_add:
            - m_jj
        - _target_: twinturbo.src.data.data.ProcessorToFloat32
          frame_names:
          - mass_add
    loader_kwargs:
      pin_memory: true
      batch_size: 2048
      num_workers: 8
      drop_last: false
  export_template:
    _target_: twinturbo.src.data.data.SimpleDataModule
    train_frac: 0.8
    loader_kwargs:
      pin_memory: true
      batch_size: 2048
      num_workers: 8
      drop_last: false
    train_data: null
    test_data:
      _target_: twinturbo.src.data.data.CombDataset
      oversample2: 5
      seed: 12345
      dataset1:
        _target_: twinturbo.src.data.data.InMemoryDataFrameDict
        list_order:
        - data
        file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
        plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/input/export_d1/
        processor_cfg:
        - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
          frame_name: df
          new_df_dict:
            data:
            - m_j1
            - del_m
            - del_R
            - tau21_j1
            - tau21_j2
            - m_jj
            is_signal:
            - is_signal
        - _target_: twinturbo.src.data.data.ProcessorSignalContamination
          frame_name: is_signal
          n_sig: 3000
        - _target_: twinturbo.src.data.data.ProcessorIntervals
          scalar_df_name: data
          var_name: m_jj
          intervals:
          - - 3000
            - 3300
          - - 3700
            - 4600
        - _target_: twinturbo.src.data.data.ProcessorCATHODE
          frame_name: data
          load_pkl: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/cathode_preprocessor.pkl
        - _target_: twinturbo.src.data.data.ProcessorToFloat32
          frame_names:
          - data
        - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
          frame_name: data
          new_df_dict:
            data:
            - m_j1
            - del_m
            - del_R
            - tau21_j1
            - tau21_j2
            - m_jj
            mass:
            - m_jj
        - _target_: twinturbo.src.data.data.ProcessorRemoveFrames
          frame_names:
          - mass
          - is_signal
      dataset2:
        _target_: twinturbo.src.data.data.InMemoryDataFrameDict
        list_order:
        - mass
        file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
        plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/input/export_d2/
        processor_cfg:
        - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
          frame_name: df
          new_df_dict:
            data:
            - m_j1
            - del_m
            - del_R
            - tau21_j1
            - tau21_j2
            - m_jj
            is_signal:
            - is_signal
        - _target_: twinturbo.src.data.data.ProcessorSignalContamination
          frame_name: is_signal
          n_sig: 0
        - _target_: twinturbo.src.data.data.ProcessorIntervals
          scalar_df_name: data
          var_name: m_jj
          intervals:
          - - 3300
            - 3700
        - _target_: twinturbo.src.data.data.ProcessorCATHODE
          frame_name: data
          load_pkl: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/cathode_preprocessor.pkl
        - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
          frame_name: data
          new_df_dict:
            data:
            - m_j1
            - del_m
            - del_R
            - tau21_j1
            - tau21_j2
            - m_jj
            mass:
            - m_jj
        - _target_: twinturbo.src.data.data.ProcessorToFloat32
          frame_names:
          - data
          - mass
        - _target_: twinturbo.src.data.data.ProcessorRemoveFrames
          frame_names:
          - data
          - is_signal
  export_latent_all:
    _target_: twinturbo.src.data.data.SimpleDataModule
    train_frac: 0.8
    loader_kwargs:
      pin_memory: true
      batch_size: 2048
      num_workers: 8
      drop_last: false
    train_data: null
    test_data:
      _target_: twinturbo.src.data.data.InMemoryDataFrameDict
      list_order:
      - data
      file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
      plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/input/export_latent_sr/
      processor_cfg:
      - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
        frame_name: df
        new_df_dict:
          data:
          - m_j1
          - del_m
          - del_R
          - tau21_j1
          - tau21_j2
          - m_jj
          is_signal:
          - is_signal
      - _target_: twinturbo.src.data.data.ProcessorCATHODE
        frame_name: data
        load_pkl: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/cathode_preprocessor.pkl
      - _target_: twinturbo.src.data.data.ProcessorToFloat32
        frame_names:
        - data
      - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
        frame_name: data
        new_df_dict:
          data:
          - m_j1
          - del_m
          - del_R
          - tau21_j1
          - tau21_j2
          - m_jj
          mass:
          - m_jj
      - _target_: twinturbo.src.data.data.ProcessorRemoveFrames
        frame_names:
        - mass
        - is_signal
  evaluation:
    original_data:
      _target_: twinturbo.src.data.data.InMemoryDataFrameDict
      list_order:
      - data
      - mass
      file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
      plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/input/eval_orig/
      processor_cfg:
      - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
        frame_name: df
        new_df_dict:
          data:
          - m_j1
          - del_m
          - del_R
          - tau21_j1
          - tau21_j2
          - m_jj
          is_signal:
          - is_signal
      - _target_: twinturbo.src.data.data.ProcessorSignalContamination
        frame_name: is_signal
        n_sig: 0
      - _target_: twinturbo.src.data.data.ProcessorIntervals
        scalar_df_name: data
        var_name: m_jj
        intervals:
        - - 3000
          - 3300
        - - 3700
          - 4600
      - _target_: twinturbo.src.data.data.ProcessorCATHODE
        frame_name: data
        load_pkl: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/cathode_preprocessor.pkl
      - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
        frame_name: data
        new_df_dict:
          data:
          - m_j1
          - del_m
          - del_R
          - tau21_j1
          - tau21_j2
          - m_jj
          mass:
          - m_jj
      - _target_: twinturbo.src.data.data.ProcessorToFloat32
        frame_names:
        - data
        - mass
    target_data:
      _target_: twinturbo.src.data.data.InMemoryDataFrameDict
      list_order:
      - data
      - mass
      file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
      plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/inputs/eval_target/
      processor_cfg:
      - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
        frame_name: df
        new_df_dict:
          data:
          - m_j1
          - del_m
          - del_R
          - tau21_j1
          - tau21_j2
          - m_jj
          is_signal:
          - is_signal
      - _target_: twinturbo.src.data.data.ProcessorSignalContamination
        frame_name: is_signal
        n_sig: 0
      - _target_: twinturbo.src.data.data.ProcessorIntervals
        scalar_df_name: data
        var_name: m_jj
        intervals:
        - - 3300
          - 3700
      - _target_: twinturbo.src.data.data.ProcessorCATHODE
        frame_name: data
        load_pkl: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/cathode_preprocessor.pkl
      - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
        frame_name: data
        new_df_dict:
          data:
          - m_j1
          - del_m
          - del_R
          - tau21_j1
          - tau21_j2
          - m_jj
          mass:
          - m_jj
      - _target_: twinturbo.src.data.data.ProcessorToFloat32
        frame_names:
        - data
        - mass
  cwola:
    datasr_3000:
      _target_: twinturbo.src.data.data.InMemoryDataFrameDict
      list_order:
      - data
      file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
      plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/inputs/cwola/datasr/
      processor_cfg:
      - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
        frame_name: df
        new_df_dict:
          data:
          - m_j1
          - del_m
          - del_R
          - tau21_j1
          - tau21_j2
          - m_jj
          is_signal:
          - is_signal
      - _target_: twinturbo.src.data.data.ProcessorSignalContamination
        frame_name: is_signal
        n_sig: 3000
      - _target_: twinturbo.src.data.data.ProcessorIntervals
        scalar_df_name: data
        var_name: m_jj
        intervals:
        - - 3300
          - 3700
      - _target_: twinturbo.src.data.data.ProcessorCATHODE
        frame_name: data
        load_pkl: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/cathode_preprocessor.pkl
      - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
        frame_name: data
        new_df_dict:
          data:
          - m_j1
          - del_m
          - del_R
          - tau21_j1
          - tau21_j2
          - m_jj
          mass:
          - m_jj
      - _target_: twinturbo.src.data.data.ProcessorMergeFrames
        frame_names:
        - data
        - is_signal
        new_frame_name: data
      - _target_: twinturbo.src.data.data.ProcessorToFloat32
        frame_names:
        - data
    extra_signal_3000:
      _target_: twinturbo.src.data.data.InMemoryDataFrameDict
      list_order:
      - data
      file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
      plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/inputs/cwola/extra_sig/
      processor_cfg:
      - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
        frame_name: df
        new_df_dict:
          data:
          - m_j1
          - del_m
          - del_R
          - tau21_j1
          - tau21_j2
          - m_jj
          is_signal:
          - is_signal
      - _target_: twinturbo.src.data.data.ProcessorSignalContamination
        frame_name: is_signal
        n_sig: 3000
        n_bkg: 0
        invert_sig: true
      - _target_: twinturbo.src.data.data.ProcessorIntervals
        scalar_df_name: data
        var_name: m_jj
        intervals:
        - - 3300
          - 3700
      - _target_: twinturbo.src.data.data.ProcessorCATHODE
        frame_name: data
        load_pkl: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/cathode_preprocessor.pkl
      - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
        frame_name: data
        new_df_dict:
          data:
          - m_j1
          - del_m
          - del_R
          - tau21_j1
          - tau21_j2
          - m_jj
          mass:
          - m_jj
      - _target_: twinturbo.src.data.data.ProcessorMergeFrames
        frame_names:
        - data
        - is_signal
        new_frame_name: data
      - _target_: twinturbo.src.data.data.ProcessorToFloat32
        frame_names:
        - data
    extra_bkg_3000:
      _target_: twinturbo.src.data.data.InMemoryDataFrameDict
      list_order:
      - data
      file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
      plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/inputs/cwola/extra_bkg/
      processor_cfg:
      - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
        frame_name: df
        new_df_dict:
          data:
          - m_j1
          - del_m
          - del_R
          - tau21_j1
          - tau21_j2
          - m_jj
          is_signal:
          - is_signal
      - _target_: twinturbo.src.data.data.ProcessorSignalContamination
        frame_name: is_signal
        n_sig: 0
      - _target_: twinturbo.src.data.data.ProcessorIntervals
        scalar_df_name: data
        var_name: m_jj
        intervals:
        - - 0
          - 3300
        - - 3700
          - 999999999
      - _target_: twinturbo.src.data.data.ProcessorCATHODE
        frame_name: data
        load_pkl: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/cathode_preprocessor.pkl
      - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
        frame_name: data
        new_df_dict:
          data:
          - m_j1
          - del_m
          - del_R
          - tau21_j1
          - tau21_j2
          - m_jj
          mass:
          - m_jj
      - _target_: twinturbo.src.data.data.ProcessorMergeFrames
        frame_names:
        - data
        - is_signal
        new_frame_name: data
      - _target_: twinturbo.src.data.data.ProcessorToFloat32
        frame_names:
        - data
    datasr_0:
      _target_: twinturbo.src.data.data.InMemoryDataFrameDict
      list_order:
      - data
      file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
      plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/inputs/cwola/datasr/
      processor_cfg:
      - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
        frame_name: df
        new_df_dict:
          data:
          - m_j1
          - del_m
          - del_R
          - tau21_j1
          - tau21_j2
          - m_jj
          is_signal:
          - is_signal
      - _target_: twinturbo.src.data.data.ProcessorSignalContamination
        frame_name: is_signal
        n_sig: 0
      - _target_: twinturbo.src.data.data.ProcessorIntervals
        scalar_df_name: data
        var_name: m_jj
        intervals:
        - - 3300
          - 3700
      - _target_: twinturbo.src.data.data.ProcessorCATHODE
        frame_name: data
        load_pkl: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/cathode_preprocessor.pkl
      - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
        frame_name: data
        new_df_dict:
          data:
          - m_j1
          - del_m
          - del_R
          - tau21_j1
          - tau21_j2
          - m_jj
          mass:
          - m_jj
      - _target_: twinturbo.src.data.data.ProcessorMergeFrames
        frame_names:
        - data
        - is_signal
        new_frame_name: data
      - _target_: twinturbo.src.data.data.ProcessorToFloat32
        frame_names:
        - data
    extra_signal_0:
      _target_: twinturbo.src.data.data.InMemoryDataFrameDict
      list_order:
      - data
      file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
      plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/inputs/cwola/extra_sig/
      processor_cfg:
      - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
        frame_name: df
        new_df_dict:
          data:
          - m_j1
          - del_m
          - del_R
          - tau21_j1
          - tau21_j2
          - m_jj
          is_signal:
          - is_signal
      - _target_: twinturbo.src.data.data.ProcessorSignalContamination
        frame_name: is_signal
        n_sig: 0
        invert_sig: true
      - _target_: twinturbo.src.data.data.ProcessorIntervals
        scalar_df_name: data
        var_name: m_jj
        intervals:
        - - 3300
          - 3700
      - _target_: twinturbo.src.data.data.ProcessorCATHODE
        frame_name: data
        load_pkl: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/cathode_preprocessor.pkl
      - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
        frame_name: data
        new_df_dict:
          data:
          - m_j1
          - del_m
          - del_R
          - tau21_j1
          - tau21_j2
          - m_jj
          mass:
          - m_jj
      - _target_: twinturbo.src.data.data.ProcessorMergeFrames
        frame_names:
        - data
        - is_signal
        new_frame_name: data
      - _target_: twinturbo.src.data.data.ProcessorToFloat32
        frame_names:
        - data
    extra_bkg_0:
      _target_: twinturbo.src.data.data.InMemoryDataFrameDict
      list_order:
      - data
      file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
      plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/inputs/cwola/extra_bkg/
      processor_cfg:
      - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
        frame_name: df
        new_df_dict:
          data:
          - m_j1
          - del_m
          - del_R
          - tau21_j1
          - tau21_j2
          - m_jj
          is_signal:
          - is_signal
      - _target_: twinturbo.src.data.data.ProcessorSignalContamination
        frame_name: is_signal
        n_sig: 0
      - _target_: twinturbo.src.data.data.ProcessorIntervals
        scalar_df_name: data
        var_name: m_jj
        intervals:
        - - 0
          - 3300
        - - 3700
          - 999999999
      - _target_: twinturbo.src.data.data.ProcessorCATHODE
        frame_name: data
        load_pkl: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/cathode_preprocessor.pkl
      - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
        frame_name: data
        new_df_dict:
          data:
          - m_j1
          - del_m
          - del_R
          - tau21_j1
          - tau21_j2
          - m_jj
          mass:
          - m_jj
      - _target_: twinturbo.src.data.data.ProcessorMergeFrames
        frame_names:
        - data
        - is_signal
        new_frame_name: data
      - _target_: twinturbo.src.data.data.ProcessorToFloat32
        frame_names:
        - data
    dataSR_latent_3000:
      _target_: twinturbo.src.data.data.InMemoryDataFrameDict
      list_order:
      - latent
      file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
      plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/inputs/cwola/dataSR_latent_3000_latent/
      processor_cfg:
      - _target_: twinturbo.src.data.data.ProcessorLoadInsertDatasets
        dataset_files:
        - groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/template/outputs/export_latent_all.h5
      - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
        frame_name: df
        new_df_dict:
          mass:
          - m_jj
          is_signal:
          - is_signal
      - _target_: twinturbo.src.data.data.ProcessorSignalContamination
        frame_name: is_signal
        n_sig: 3000
      - _target_: twinturbo.src.data.data.ProcessorIntervals
        scalar_df_name: mass
        var_name: m_jj
        intervals:
        - - 3300
          - 3700
      - _target_: twinturbo.src.data.data.ProcessorMergeFrames
        frame_names:
        - latent
        - mass
        - is_signal
        new_frame_name: data
      - _target_: twinturbo.src.data.data.ProcessorToFloat32
        frame_names:
        - data
    dataSB_latent_3000:
      _target_: twinturbo.src.data.data.InMemoryDataFrameDict
      list_order:
      - latent
      file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
      plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/inputs/cwola/dataSB_latent_3000_latent/
      processor_cfg:
      - _target_: twinturbo.src.data.data.ProcessorLoadInsertDatasets
        dataset_files:
        - groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/template/outputs/export_latent_all.h5
      - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
        frame_name: df
        new_df_dict:
          mass:
          - m_jj
          is_signal:
          - is_signal
      - _target_: twinturbo.src.data.data.ProcessorSignalContamination
        frame_name: is_signal
        n_sig: 0
      - _target_: twinturbo.src.data.data.ProcessorIntervals
        scalar_df_name: mass
        var_name: m_jj
        intervals:
        - - 3000
          - 3300
        - - 3700
          - 4600
      - _target_: twinturbo.src.data.data.ProcessorMergeFrames
        frame_names:
        - latent
        - mass
        new_frame_name: template
      - _target_: twinturbo.src.data.data.ProcessorAddColumn
        frame_name: template
        column_name: is_signal
        column_values: -1
      - _target_: twinturbo.src.data.data.ProcessorToFloat32
        frame_names:
        - template
    data_extra_sig_latent_3000:
      _target_: twinturbo.src.data.data.InMemoryDataFrameDict
      list_order:
      - latent
      file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
      plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/inputs/cwola/data_extra_sig_latent_3000_latent/
      processor_cfg:
      - _target_: twinturbo.src.data.data.ProcessorLoadInsertDatasets
        dataset_files:
        - groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/template/outputs/export_latent_all.h5
      - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
        frame_name: df
        new_df_dict:
          mass:
          - m_jj
          is_signal:
          - is_signal
      - _target_: twinturbo.src.data.data.ProcessorSignalContamination
        frame_name: is_signal
        n_sig: 3000
        n_bkg: 0
        invert_sig: true
      - _target_: twinturbo.src.data.data.ProcessorIntervals
        scalar_df_name: mass
        var_name: m_jj
        intervals:
        - - 3000
          - 3300
        - - 3700
          - 4600
      - _target_: twinturbo.src.data.data.ProcessorMergeFrames
        frame_names:
        - latent
        - mass
        - is_signal
        new_frame_name: data
      - _target_: twinturbo.src.data.data.ProcessorToFloat32
        frame_names:
        - data
    data_extra_bkg_latent_3000:
      _target_: twinturbo.src.data.data.InMemoryDataFrameDict
      list_order:
      - latent
      file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
      plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/inputs/cwola/datasr/
      processor_cfg:
      - _target_: twinturbo.src.data.data.ProcessorLoadInsertDatasets
        dataset_files:
        - groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/template/outputs/export_latent_all.h5
      - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
        frame_name: df
        new_df_dict:
          mass:
          - m_jj
          is_signal:
          - is_signal
      - _target_: twinturbo.src.data.data.ProcessorSignalContamination
        frame_name: is_signal
        n_sig: 0
      - _target_: twinturbo.src.data.data.ProcessorIntervals
        scalar_df_name: mass
        var_name: m_jj
        intervals:
        - - -999999
          - 3300
        - - 3700
          - 999999
      - _target_: twinturbo.src.data.data.ProcessorMergeFrames
        frame_names:
        - latent
        - mass
        - is_signal
        new_frame_name: data
      - _target_: twinturbo.src.data.data.ProcessorToFloat32
        frame_names:
        - data
step_export_template:
  seed: 12345
  data:
    _target_: twinturbo.src.data.data.SimpleDataModule
    train_frac: 0.8
    loader_kwargs:
      pin_memory: true
      batch_size: 2048
      num_workers: 8
      drop_last: false
    train_data: null
    test_data:
      _target_: twinturbo.src.data.data.CombDataset
      oversample2: 5
      seed: 12345
      dataset1:
        _target_: twinturbo.src.data.data.InMemoryDataFrameDict
        list_order:
        - data
        file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
        plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/input/export_d1/
        processor_cfg:
        - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
          frame_name: df
          new_df_dict:
            data:
            - m_j1
            - del_m
            - del_R
            - tau21_j1
            - tau21_j2
            - m_jj
            is_signal:
            - is_signal
        - _target_: twinturbo.src.data.data.ProcessorSignalContamination
          frame_name: is_signal
          n_sig: 3000
        - _target_: twinturbo.src.data.data.ProcessorIntervals
          scalar_df_name: data
          var_name: m_jj
          intervals:
          - - 3000
            - 3300
          - - 3700
            - 4600
        - _target_: twinturbo.src.data.data.ProcessorCATHODE
          frame_name: data
          load_pkl: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/cathode_preprocessor.pkl
        - _target_: twinturbo.src.data.data.ProcessorToFloat32
          frame_names:
          - data
        - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
          frame_name: data
          new_df_dict:
            data:
            - m_j1
            - del_m
            - del_R
            - tau21_j1
            - tau21_j2
            - m_jj
            mass:
            - m_jj
        - _target_: twinturbo.src.data.data.ProcessorRemoveFrames
          frame_names:
          - mass
          - is_signal
      dataset2:
        _target_: twinturbo.src.data.data.InMemoryDataFrameDict
        list_order:
        - mass
        file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
        plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/input/export_d2/
        processor_cfg:
        - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
          frame_name: df
          new_df_dict:
            data:
            - m_j1
            - del_m
            - del_R
            - tau21_j1
            - tau21_j2
            - m_jj
            is_signal:
            - is_signal
        - _target_: twinturbo.src.data.data.ProcessorSignalContamination
          frame_name: is_signal
          n_sig: 0
        - _target_: twinturbo.src.data.data.ProcessorIntervals
          scalar_df_name: data
          var_name: m_jj
          intervals:
          - - 3300
            - 3700
        - _target_: twinturbo.src.data.data.ProcessorCATHODE
          frame_name: data
          load_pkl: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/cathode_preprocessor.pkl
        - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
          frame_name: data
          new_df_dict:
            data:
            - m_j1
            - del_m
            - del_R
            - tau21_j1
            - tau21_j2
            - m_jj
            mass:
            - m_jj
        - _target_: twinturbo.src.data.data.ProcessorToFloat32
          frame_names:
          - data
          - mass
        - _target_: twinturbo.src.data.data.ProcessorRemoveFrames
          frame_names:
          - data
          - is_signal
  paths:
    full_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/template
    output_dir: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/template
  output_name: template_sample_con
  signal_contamination_ns:
  - 0
  - 3000
  get_best: false
  project_name: CATHODE_LHCO
  network_name: twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b_2024-08-27_19-05-36-900316
step_evaluate:
  original_data:
    _target_: twinturbo.src.data.data.InMemoryDataFrameDict
    list_order:
    - data
    - mass
    file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
    plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/input/eval_orig/
    processor_cfg:
    - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
      frame_name: df
      new_df_dict:
        data:
        - m_j1
        - del_m
        - del_R
        - tau21_j1
        - tau21_j2
        - m_jj
        is_signal:
        - is_signal
    - _target_: twinturbo.src.data.data.ProcessorSignalContamination
      frame_name: is_signal
      n_sig: 0
    - _target_: twinturbo.src.data.data.ProcessorIntervals
      scalar_df_name: data
      var_name: m_jj
      intervals:
      - - 3000
        - 3300
      - - 3700
        - 4600
    - _target_: twinturbo.src.data.data.ProcessorCATHODE
      frame_name: data
      load_pkl: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/cathode_preprocessor.pkl
    - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
      frame_name: data
      new_df_dict:
        data:
        - m_j1
        - del_m
        - del_R
        - tau21_j1
        - tau21_j2
        - m_jj
        mass:
        - m_jj
    - _target_: twinturbo.src.data.data.ProcessorToFloat32
      frame_names:
      - data
      - mass
  target_data:
    _target_: twinturbo.src.data.data.InMemoryDataFrameDict
    list_order:
    - data
    - mass
    file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
    plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/inputs/eval_target/
    processor_cfg:
    - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
      frame_name: df
      new_df_dict:
        data:
        - m_j1
        - del_m
        - del_R
        - tau21_j1
        - tau21_j2
        - m_jj
        is_signal:
        - is_signal
    - _target_: twinturbo.src.data.data.ProcessorSignalContamination
      frame_name: is_signal
      n_sig: 0
    - _target_: twinturbo.src.data.data.ProcessorIntervals
      scalar_df_name: data
      var_name: m_jj
      intervals:
      - - 3300
        - 3700
    - _target_: twinturbo.src.data.data.ProcessorCATHODE
      frame_name: data
      load_pkl: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/cathode_preprocessor.pkl
    - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
      frame_name: data
      new_df_dict:
        data:
        - m_j1
        - del_m
        - del_R
        - tau21_j1
        - tau21_j2
        - m_jj
        mass:
        - m_jj
    - _target_: twinturbo.src.data.data.ProcessorToFloat32
      frame_names:
      - data
      - mass
  template_file: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/template/outputs/template_sample_con0.h5
  debug_eval: false
  get_best: false
  do_2d_hist_instead_of_contour: false
  procedures: null
step_cwola:
  several_confs:
  - run_dir: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1
    cwola_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/cwola/
    cwola_eval_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/cwola_3000_eval/
    datasets:
      datasr:
        _target_: twinturbo.src.data.data.InMemoryDataFrameDict
        list_order:
        - data
        file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
        plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/inputs/cwola/datasr/
        processor_cfg:
        - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
          frame_name: df
          new_df_dict:
            data:
            - m_j1
            - del_m
            - del_R
            - tau21_j1
            - tau21_j2
            - m_jj
            is_signal:
            - is_signal
        - _target_: twinturbo.src.data.data.ProcessorSignalContamination
          frame_name: is_signal
          n_sig: 3000
        - _target_: twinturbo.src.data.data.ProcessorIntervals
          scalar_df_name: data
          var_name: m_jj
          intervals:
          - - 3300
            - 3700
        - _target_: twinturbo.src.data.data.ProcessorCATHODE
          frame_name: data
          load_pkl: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/cathode_preprocessor.pkl
        - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
          frame_name: data
          new_df_dict:
            data:
            - m_j1
            - del_m
            - del_R
            - tau21_j1
            - tau21_j2
            - m_jj
            mass:
            - m_jj
        - _target_: twinturbo.src.data.data.ProcessorMergeFrames
          frame_names:
          - data
          - is_signal
          new_frame_name: data
        - _target_: twinturbo.src.data.data.ProcessorToFloat32
          frame_names:
          - data
      extra_signal:
        _target_: twinturbo.src.data.data.InMemoryDataFrameDict
        list_order:
        - data
        file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
        plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/inputs/cwola/extra_sig/
        processor_cfg:
        - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
          frame_name: df
          new_df_dict:
            data:
            - m_j1
            - del_m
            - del_R
            - tau21_j1
            - tau21_j2
            - m_jj
            is_signal:
            - is_signal
        - _target_: twinturbo.src.data.data.ProcessorSignalContamination
          frame_name: is_signal
          n_sig: 3000
          n_bkg: 0
          invert_sig: true
        - _target_: twinturbo.src.data.data.ProcessorIntervals
          scalar_df_name: data
          var_name: m_jj
          intervals:
          - - 3300
            - 3700
        - _target_: twinturbo.src.data.data.ProcessorCATHODE
          frame_name: data
          load_pkl: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/cathode_preprocessor.pkl
        - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
          frame_name: data
          new_df_dict:
            data:
            - m_j1
            - del_m
            - del_R
            - tau21_j1
            - tau21_j2
            - m_jj
            mass:
            - m_jj
        - _target_: twinturbo.src.data.data.ProcessorMergeFrames
          frame_names:
          - data
          - is_signal
          new_frame_name: data
        - _target_: twinturbo.src.data.data.ProcessorToFloat32
          frame_names:
          - data
      template:
        _target_: twinturbo.src.data.data.InMemoryDataFrameDict
        plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/input/cwola/template/
        list_order:
        - data
        file_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/template/outputs/template_sample_con3000.h5
        processor_cfg:
        - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
          frame_name: template
          new_df_dict:
            template:
            - m_j1
            - del_m
            - del_R
            - tau21_j1
            - tau21_j2
            - m_jj
        - _target_: twinturbo.src.data.data.ProcessorAddColumn
          frame_name: template
          column_name: is_signal
          column_values: -1
      extra_bkg:
        _target_: twinturbo.src.data.data.InMemoryDataFrameDict
        list_order:
        - data
        file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
        plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/inputs/cwola/extra_bkg/
        processor_cfg:
        - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
          frame_name: df
          new_df_dict:
            data:
            - m_j1
            - del_m
            - del_R
            - tau21_j1
            - tau21_j2
            - m_jj
            is_signal:
            - is_signal
        - _target_: twinturbo.src.data.data.ProcessorSignalContamination
          frame_name: is_signal
          n_sig: 0
        - _target_: twinturbo.src.data.data.ProcessorIntervals
          scalar_df_name: data
          var_name: m_jj
          intervals:
          - - 0
            - 3300
          - - 3700
            - 999999999
        - _target_: twinturbo.src.data.data.ProcessorCATHODE
          frame_name: data
          load_pkl: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/cathode_preprocessor.pkl
        - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
          frame_name: data
          new_df_dict:
            data:
            - m_j1
            - del_m
            - del_R
            - tau21_j1
            - tau21_j2
            - m_jj
            mass:
            - m_jj
        - _target_: twinturbo.src.data.data.ProcessorMergeFrames
          frame_names:
          - data
          - is_signal
          new_frame_name: data
        - _target_: twinturbo.src.data.data.ProcessorToFloat32
          frame_names:
          - data
    input_path: /srv/beegfs/scratch/users/l/leighm/linearresults/
    cwola_subfolders: window_3100_3300__3700_3900/dope_3000/
    mode: standard
    num_signal: 3000
    sideband_1: '3100_3300'
    sideband_2: '3700_3900'
    num_folds: 5
    max_iter: 250
    early_stopping: 1
    validation_fraction: 0.1
    class_weight: balanced
    num_ensemble: 5
    seeds:
    - 0
    - 1
    extra_bkg: 1
  - run_dir: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1
    cwola_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/cwola_latent/
    cwola_eval_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/cwola_latent_3000_eval/
    datasets:
      datasr:
        _target_: twinturbo.src.data.data.InMemoryDataFrameDict
        list_order:
        - latent
        file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
        plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/inputs/cwola/dataSR_latent_3000_latent/
        processor_cfg:
        - _target_: twinturbo.src.data.data.ProcessorLoadInsertDatasets
          dataset_files:
          - groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/template/outputs/export_latent_all.h5
        - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
          frame_name: df
          new_df_dict:
            mass:
            - m_jj
            is_signal:
            - is_signal
        - _target_: twinturbo.src.data.data.ProcessorSignalContamination
          frame_name: is_signal
          n_sig: 3000
        - _target_: twinturbo.src.data.data.ProcessorIntervals
          scalar_df_name: mass
          var_name: m_jj
          intervals:
          - - 3300
            - 3700
        - _target_: twinturbo.src.data.data.ProcessorMergeFrames
          frame_names:
          - latent
          - mass
          - is_signal
          new_frame_name: data
        - _target_: twinturbo.src.data.data.ProcessorToFloat32
          frame_names:
          - data
      extra_signal:
        _target_: twinturbo.src.data.data.InMemoryDataFrameDict
        list_order:
        - latent
        file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
        plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/inputs/cwola/data_extra_sig_latent_3000_latent/
        processor_cfg:
        - _target_: twinturbo.src.data.data.ProcessorLoadInsertDatasets
          dataset_files:
          - groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/template/outputs/export_latent_all.h5
        - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
          frame_name: df
          new_df_dict:
            mass:
            - m_jj
            is_signal:
            - is_signal
        - _target_: twinturbo.src.data.data.ProcessorSignalContamination
          frame_name: is_signal
          n_sig: 3000
          n_bkg: 0
          invert_sig: true
        - _target_: twinturbo.src.data.data.ProcessorIntervals
          scalar_df_name: mass
          var_name: m_jj
          intervals:
          - - 3000
            - 3300
          - - 3700
            - 4600
        - _target_: twinturbo.src.data.data.ProcessorMergeFrames
          frame_names:
          - latent
          - mass
          - is_signal
          new_frame_name: data
        - _target_: twinturbo.src.data.data.ProcessorToFloat32
          frame_names:
          - data
      plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/input/cwola/template/
      template:
        _target_: twinturbo.src.data.data.InMemoryDataFrameDict
        list_order:
        - latent
        file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
        plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/inputs/cwola/dataSB_latent_3000_latent/
        processor_cfg:
        - _target_: twinturbo.src.data.data.ProcessorLoadInsertDatasets
          dataset_files:
          - groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/template/outputs/export_latent_all.h5
        - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
          frame_name: df
          new_df_dict:
            mass:
            - m_jj
            is_signal:
            - is_signal
        - _target_: twinturbo.src.data.data.ProcessorSignalContamination
          frame_name: is_signal
          n_sig: 0
        - _target_: twinturbo.src.data.data.ProcessorIntervals
          scalar_df_name: mass
          var_name: m_jj
          intervals:
          - - 3000
            - 3300
          - - 3700
            - 4600
        - _target_: twinturbo.src.data.data.ProcessorMergeFrames
          frame_names:
          - latent
          - mass
          new_frame_name: template
        - _target_: twinturbo.src.data.data.ProcessorAddColumn
          frame_name: template
          column_name: is_signal
          column_values: -1
        - _target_: twinturbo.src.data.data.ProcessorToFloat32
          frame_names:
          - template
      extra_bkg:
        _target_: twinturbo.src.data.data.InMemoryDataFrameDict
        list_order:
        - latent
        file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
        plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/inputs/cwola/datasr/
        processor_cfg:
        - _target_: twinturbo.src.data.data.ProcessorLoadInsertDatasets
          dataset_files:
          - groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/template/outputs/export_latent_all.h5
        - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
          frame_name: df
          new_df_dict:
            mass:
            - m_jj
            is_signal:
            - is_signal
        - _target_: twinturbo.src.data.data.ProcessorSignalContamination
          frame_name: is_signal
          n_sig: 0
        - _target_: twinturbo.src.data.data.ProcessorIntervals
          scalar_df_name: mass
          var_name: m_jj
          intervals:
          - - -999999
            - 3300
          - - 3700
            - 999999
        - _target_: twinturbo.src.data.data.ProcessorMergeFrames
          frame_names:
          - latent
          - mass
          - is_signal
          new_frame_name: data
        - _target_: twinturbo.src.data.data.ProcessorToFloat32
          frame_names:
          - data
    input_path: /srv/beegfs/scratch/users/l/leighm/linearresults/
    cwola_subfolders: window_3100_3300__3700_3900/dope_3000/
    mode: standard
    num_signal: 3000
    sideband_1: '3100_3300'
    sideband_2: '3700_3900'
    num_folds: 5
    max_iter: 250
    early_stopping: 1
    validation_fraction: 0.1
    class_weight: balanced
    num_ensemble: 5
    seeds:
    - 0
    - 1
    extra_bkg: 1
step_export_latent:
  export_latent_all:
    seed: 12345
    data:
      _target_: twinturbo.src.data.data.SimpleDataModule
      train_frac: 0.8
      loader_kwargs:
        pin_memory: true
        batch_size: 2048
        num_workers: 8
        drop_last: false
      train_data: null
      test_data:
        _target_: twinturbo.src.data.data.InMemoryDataFrameDict
        list_order:
        - data
        file_path: /home/users/o/oleksiyu/scratch/DATA/LHCO/events_anomalydetection_v2.features_prepCURTAINS.h5
        plotting_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/input/export_latent_sr/
        processor_cfg:
        - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
          frame_name: df
          new_df_dict:
            data:
            - m_j1
            - del_m
            - del_R
            - tau21_j1
            - tau21_j2
            - m_jj
            is_signal:
            - is_signal
        - _target_: twinturbo.src.data.data.ProcessorCATHODE
          frame_name: data
          load_pkl: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/cathode_preprocessor.pkl
        - _target_: twinturbo.src.data.data.ProcessorToFloat32
          frame_names:
          - data
        - _target_: twinturbo.src.data.data.ProcessorSplitDataFrameVars
          frame_name: data
          new_df_dict:
            data:
            - m_j1
            - del_m
            - del_R
            - tau21_j1
            - tau21_j2
            - m_jj
            mass:
            - m_jj
        - _target_: twinturbo.src.data.data.ProcessorRemoveFrames
          frame_names:
          - mass
          - is_signal
    paths:
      full_path: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/template
      output_dir: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/export_latent
    output_name: export_latent_all
    get_best: false
    project_name: CATHODE_LHCO
    network_name: twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b_2024-08-27_19-05-36-900316
step_plot_compare:
  run_dir: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1
  save_curves: true
  postfix: comb_CWOLA
  main_methods:
    TwinTurbo:
      abs_directory: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/cwola_3000_eval/
      prefix: ''
      postfix: ''
    TwinTurboLatent:
      abs_directory: groups/twinturbo_reco_cons0.01_smls0.001_adv3_LHCO_CURTAINS2048b//run-TTS_1/plots/cwola_latent_3000_eval/
      prefix: ''
      postfix: ''
  methods:
    supervised:
      abs_directory: /home/users/o/oleksiyu/WORK/hyperproject/lit/radot/dope_3000/supervised
      prefix: ''
      postfix: ''
    idealised:
      abs_directory: /home/users/o/oleksiyu/WORK/hyperproject/lit/radot/dope_3000/idealised
      prefix: ''
      postfix: ''
    radot:
      abs_directory: /home/users/o/oleksiyu/WORK/hyperproject/lit/radot/dope_3000/standard
      prefix: ''
      postfix: ''
